"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[9856],{31412:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var a=t(17624),i=t(4552),s=t(19920);const r={sidebar_position:3},l="Definitions",o={id:"interpreter/Advanced/symbols",title:"Definitions",description:"Let's make the things clear.",source:"@site/docs/interpreter/Advanced/symbols.md",sourceDirName:"interpreter/Advanced",slug:"/interpreter/Advanced/symbols",permalink:"/interpreter/Advanced/symbols",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1699478897e3,sidebarPosition:3,frontMatter:{sidebar_position:3}},c={},d=[{value:"Functions",id:"functions",level:2},{value:"Direct call",id:"direct-call",level:3},{value:"\ud83c\udfa1 Example 1",id:"-example-1",level:4},{value:"Virtual container",id:"virtual-container",level:3},{value:"Auto-virtual container",id:"auto-virtual-container",level:3},{value:"\ud83c\udfa1 Example 2",id:"-example-2",level:4},{value:"Container with a storage",id:"container-with-a-storage",level:3},{value:"Storage was changed",id:"storage-was-changed",level:4},{value:"Subexpressions was updated",id:"subexpressions-was-updated",level:4},{value:"Variables",id:"variables",level:2},{value:"Conditions, when an instance will be created or not",id:"conditions-when-an-instance-will-be-created-or-not",level:3},{value:"\ud83c\udfa1 Example 3",id:"-example-3",level:4}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",...(0,i.M)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"definitions",children:"Definitions"}),"\n",(0,a.jsx)(n.p,{children:"Let's make the things clear."}),"\n",(0,a.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,a.jsx)(n.p,{children:"Let's talk about how to define a function properly"}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"In wolfram language terms, there is no difference between function and a symbol. These are all expressions. However, here WLJS only mimics WL language paradigm, therefore here we distinguish function and a variable."})}),"\n",(0,a.jsx)(n.h3,{id:"direct-call",children:"Direct call"}),"\n",(0,a.jsx)(n.p,{children:"The simplest way of calling a defined function"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"MyFunction[data]\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2757\ufe0f no local memory, no identity ",(0,a.jsx)("br",{}),"\n\u2757\ufe0f not possible to dynamically update ",(0,a.jsx)("br",{}),"\n\u2705  the fastest and memory friendly way"]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(80964).c+"",width:"677",height:"177"})}),"\n",(0,a.jsxs)(n.p,{children:["A called function has no persistent memory except from the ",(0,a.jsx)(n.code,{children:"env"})," variable, which can share the data with other functions from the sub-tree - see more in ",(0,a.jsx)(n.a,{href:"/interpreter/Advanced/architecture",children:"architecture"})," (Meta Data)."]}),"\n",(0,a.jsx)(n.p,{children:"Somewhere in Javascript code there will be"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"core.MyFunction = async (args, env) => {...}\n"})}),"\n",(0,a.jsx)(n.p,{children:"An update method is good to define as well, therefore a function can be used together with updatable object called somewhere in the tree"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"core.MyFunction.update = core.MyFunction\ncore.MyFunction.destroy = core.MyFunction\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Since there is no identity of a function, there is no need to define a different function for ",(0,a.jsx)(n.code,{children:"update"})," and ",(0,a.jsx)(n.code,{children:"destroy"}),"."]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsx)(n.p,{children:"Any defined functions must return javascript object or nothing"})}),"\n",(0,a.jsxs)(n.p,{children:["While in the arguments ",(0,a.jsx)(n.code,{children:"args"})," it is always Wolfram Expression, therefore ",(0,a.jsx)(n.code,{children:"interpretate"})," is always called on them to convert anything into javascript data type."]}),"\n",(0,a.jsx)(n.h4,{id:"-example-1",children:"\ud83c\udfa1 Example 1"}),"\n",(0,a.jsx)(n.p,{children:"Let us write some cellular automatic machine starting from Javascript code"}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'//create js canvas\nconst canvas = document.createElement("canvas");\ncanvas.width = 400;\ncanvas.height = 100;\n\nlet context = canvas.getContext("2d");\n\n//a function to draw on it\ncore.MyFunction = async (args, env) => {\n  const data = await interpretate(args[0], env);\n\n  //draw our boxes\n  for(let i=0; i<40; ++i) {\n    for (let j=0; j<10; ++j) {\n      //new pixels\n      if (data[i][j] > 0) {\n        context.fillStyle = "rgba(255,0,0,0.4)"; \n        context.fillRect(i*10 + 1, j*10 + 1, 8, 8);\n      } else {\n        context.fillStyle = "rgba(255,255,255,0.4)"; \n        context.fillRect(i*10 + 1, j*10 + 1, 8, 8);\n      }\n    }\n  }\n}\n\nreturn canvas\n'})}),(0,a.jsx)(n.p,{children:"Now we can animate it in a loop using the simplest rule"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"data = RandomReal[{-1,1}, {40,10}];\n\nWhile[True, \n  data = Table[\n    If[(data[[i]][[If[j+1>10,1,j+1]]]  \n    + data[[If[i+1>40,1,i+1]]][[j]]  \n    + data[[If[i-1<1,40,i-1 ]]][[j]] \n    + data[[i]][[If[j-1<1,10,j-1 ]]]) > 0.5, 1, RandomReal[{-1,0}]] \n  , {i,1, 40}, {j,1,10}];   \n\n  Pause[0.05];\n\n  MyFunction[data];  \n];\n"})})]}),"\n",(0,a.jsx)(n.p,{children:"The result will look like"}),"\n","\n",(0,a.jsx)(s.c,{code:"('wls!'VDq%5B(-1K)N(40K0)%3F99While%5BTrueN96VDTable%5B966If%5B%7BVXiAXIf%5Bj%2B1%3E10K%2Cj%2B1Y6%23If%5Bi%2B1%3E40K%2Ci%2B1YXjA6%23If%5Bi-1%3C1%2C40%2Ci-1%20YXjA%20%23iAXIf%5Bj-1%3C1K0%2Cj-1%20Y%7F%3E%200.5N1Nq%5B(-1%2C0)A%2096N(iKN40)N(jKK0)%3F6%20996Pause%5B0.05%3F996%25%5BV%3F69%3F'~js!'%5Ecreate%20js%20Z9const%20ZDdocument.createElement%7B%5C'Z%5C'%7D%3B9Z.widthD400%3B9Z.heightD100%3B99let%20contextDZ.getContext%7B%5C'2d%5C'%7D%3B99%5Ea%20function%20to%20draw%20on%20it9core.%25Dasync%20%7BargsNenv%7F%3D%3E%20(96const%20VDawait%20interpretate%7Bargs%5B0%5DNenv%7D%3B996%5Edraw%20our%20boxes96for%7Blet%20i%3D0zi%3C40z%2B%2Bi%7F(966for%20%7Blet%20j%3D0zj%3C10z%2B%2Bj%7F(9666%5Enew%20pixels9666if%20%7BV%5Bi%5D%5Bj%5D%20%3E%200%7DQ0%2C0%26B9666)%20elseQ255%2C255%26B9666)966)96)9)99return%20Z'~includes!%5B'https%3A%5Ecdn.jsdelivr.net%2Fgh%2FJerryI%2Fwljs-graphics-d3%40latest%2Fdist%2Fkernel.js'~.%2Fcurves.js'%5D~compiled!%5B'Hold'_q'7List%24K%5D7List'%2C40K0Y7While'%2Ctrue_Table'%227Plus'O~i'%5D%22Uj'K%5DK0%5DKUj'KYO%22Ui'K%5D%2C40%5DKUi'KY~j'%5DO7If'7Less'Ui%24%5DK%5D%2C40Ui%24Y~j'%5DO~i'%5D7If'7Less'Uj%24%5DK%5DK0Uj%24AA%2C0.5%5DK7q'7List%24%2C0Y7List'~i'K%2C40%5D7List'~j'KK0Y7Pause'%2C0.05%5D7%25'~V'%5D%2CnullA%2CnullA)6%20%207%2C%5B'9%5CnY%5DB%60Rect%7Bi%7Cj%7C8N8%7D%3BD%20%3D%20K%2C1N%2C%20O7Part'7Part'~V'Q%20(96%60StyleD%5C'rgba%7B255%2CU7Plus'~VdataX%5B%5BYA%5DZcanvas_7CompoundExpression'7Set'~V'7qRandomRealz%3B%20%227If'7Greater'%23966%2B%20VX%24'%2C-1%25MyFunction%26%2C0.4%7D%5C'z96%3F%5D%3B%5E%2F%2F%60666context.fill%7C*10%20%2B%201N%7F%7D%20%01%7F%7C%60%5E%3F%26%25%24%23%22zq_ZYXVUQONKDBA976_",children:"Cellautomata"}),"\n",(0,a.jsx)(n.h3,{id:"virtual-container",children:"Virtual container"}),"\n",(0,a.jsx)(n.p,{children:"Things are getting interesting, if one need to store some additional information for the individual instance of the function and bind it to other objects for dynamics."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"FrontEndVirtual[{\n\tMyFunction[data]\n}]\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2705  local memory and identity ",(0,a.jsx)("br",{}),"\n\u2705  possible to dynamically update and bind ",(0,a.jsx)("br",{}),"\n\u2757\ufe0f each time creates new instance"]})}),"\n",(0,a.jsx)(n.p,{children:"See an example on a picture"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(67652).c+"",width:"1607",height:"667"})}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["Do not put ",(0,a.jsx)(n.code,{children:"FrontEndVirtual"})," into the loops like ",(0,a.jsx)(n.code,{children:"While"}),", it will cause memory leakage!"]})}),"\n",(0,a.jsx)(n.p,{children:"Now an interpreter can bind the inner objects or outer to our function, can forms a chain, that will be used for updates. For example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"data = 1;\n\nFrontEndVirtual[{\n\tMyFunction[data]\n}];\n\nPause[1];\ndata = 10;\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Here as one can see, we use defined symbol ",(0,a.jsx)(n.code,{children:"data"}),", that by default has ",(0,a.jsx)(n.a,{href:"#Auto-virtual%20container",children:"Auto-virtual container"})," type, therefore on each call it also create an instance like ",(0,a.jsx)(n.code,{children:"FrontEndVirtual"})," implicitly and binds to the parent container (no matter how far is it in the call tree)."]}),"\n",(0,a.jsxs)(n.p,{children:["Now let us write a simple function, that uses local memory and ",(0,a.jsx)(n.code,{children:"update"})," method."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"core.MyFunction = async (args, env) => {\n\tconst data = await interpretate(args[0], env);\n\tconsole.log('created!');\n\tconsole.log(data);\n\t//store the data into local storage\n    env.local.data = data;\n}\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"core.MyFunction.update = async (args, env) => {\n\tconst newdata = await interpretate(args[0], env);\n\tconsole.log('updated!');\n\tconsole.log(newdata);\n\t//apply some math for fun\n    env.local.data += newdata;\n    console.log('result: '+env.local.data);\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"On each update, this function will print the result of accumulated data."}),"\n",(0,a.jsx)(n.h3,{id:"auto-virtual-container",children:"Auto-virtual container"}),"\n",(0,a.jsx)(n.p,{children:"This process can be simplified if we use automatic detection"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"MyFunction[data]\n"})}),"\n",(0,a.jsx)(n.p,{children:"where somewhere in Javascript it is defined as"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"core.MyFunction.virtual = true\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2705  local memory and identity ",(0,a.jsx)("br",{}),"\n\u2705  possible to dynamically update and bind ",(0,a.jsx)("br",{}),"\n\u2757\ufe0f each time creates new instance"]})}),"\n",(0,a.jsxs)(n.p,{children:["The result will be the same as in ",(0,a.jsx)(n.a,{href:"#Virtual%20container",children:"Virtual container"}),", but it is implicitly done by the interpreter."]}),"\n",(0,a.jsx)(n.h4,{id:"-example-2",children:"\ud83c\udfa1 Example 2"}),"\n",(0,a.jsx)(n.p,{children:"Let us simplify the code from the previous example. Firstly we need to define update method for the function we have"}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"add a few lines"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"core.MyFunction.update = core.MyFunction;\ncore.MyFunction.virtual = true\n"})}),(0,a.jsx)(n.p,{children:"Now we can work with in a much prettier way"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"data = RandomReal[{-1,1}, {40,10}];\n\nMyFunction[data];\n\nWhile[True, \n  data = Table[\n    If[(data[[i]][[If[j+1>10,1,j+1]]]  \n    + data[[If[i+1>40,1,i+1]]][[j]]  \n    + data[[If[i-1<1,40,i-1 ]]][[j]] \n    + data[[i]][[If[j-1<1,10,j-1 ]]]) > 0.5, 1, RandomReal[{-1,0}]] \n  , {i,1, 40}, {j,1,10}];   \n\n  Pause[0.05];     \n];\n"})})]}),"\n",(0,a.jsx)(n.h3,{id:"container-with-a-storage",children:"Container with a storage"}),"\n",(0,a.jsx)(n.p,{children:"This way is usually used for all objects in cells of Wolfram Frontend and is not really useful, when you use WLJS as a standalone thing. Firstly you need to create a container or object, populate it with data and execute it"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:'CreateFrontEndObject[MyFunction[data], "obj"];\nFrontEndExecutable["obj"]\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2705  local memory and identity ",(0,a.jsx)("br",{}),"\n\u2705  possible to dynamically update and bind ",(0,a.jsx)("br",{}),"\n\u2705  expression is stored inside the object's storage ",(0,a.jsx)("br",{}),"\n\u2757\ufe0f each time creates new instance on ",(0,a.jsx)(n.code,{children:"FrontEndExecutable"})," call, that has a reference to the same object"]})}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["All instances of ",(0,a.jsx)(n.code,{children:"obj"})," refer to the same storage"]})}),"\n",(0,a.jsx)(n.p,{children:"An update can be caused in two scenarios"}),"\n",(0,a.jsx)(n.h4,{id:"storage-was-changed",children:"Storage was changed"}),"\n",(0,a.jsx)(n.p,{children:"To mutate the container's storage, one can simple use"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:'SetFrontEndObject["obj", MyFunction[data2]]\n'})}),"\n",(0,a.jsxs)(n.p,{children:["But this is not great implementation, since we basically send the same function, but with an arguments. However it will cause ",(0,a.jsx)(n.code,{children:"MyFunction.update"})," method called on each instance, that we created using ",(0,a.jsx)(n.code,{children:"FrontEndExecutable"})," expression."]}),"\n",(0,a.jsx)(n.h4,{id:"subexpressions-was-updated",children:"Subexpressions was updated"}),"\n",(0,a.jsx)(n.p,{children:"Sub-expression has to be also a container, in order to be able to bind updates to that. Let us show you an example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:'CreateFrontEndObject[{1,2,3}, "var"];\nCreateFrontEndObject[MyFunction[FrontEndExecutable["var"]], "obj"];\n\nFrontEndExecutable["obj"];\n'})}),"\n",(0,a.jsxs)(n.p,{children:["The last line will create an instance of our ",(0,a.jsx)(n.code,{children:"MyFunction"})," container. To trigger an update, one can update this expression via"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:'SetFrontEndObject["var", {3,4,5}];\n'})}),"\n",(0,a.jsx)(n.p,{children:"It can be illustrated as following"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(74076).c+"",width:"1528",height:"440"})}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)("summary",{children:"Details on garbage collector"}),"\nNormal containers are the only species, that can be destroyed properly. Because they are explicitly bounded to the corresponding widget."]}),(0,a.jsxs)(n.p,{children:["Since virtual functions and nested objects creates each time new identity, there is no way on how to clean them up using ",(0,a.jsx)(n.code,{children:"destory"})," method on a tree."]}),(0,a.jsxs)(n.p,{children:["However, they are still presented in a stack call, stored in ",(0,a.jsx)(n.code,{children:"env.global.stack"}),". Therefore, one can remove them by going through the stack and calling ",(0,a.jsx)(n.code,{children:"dispose"})," method."]})]}),"\n",(0,a.jsx)(n.h2,{id:"variables",children:"Variables"}),"\n",(0,a.jsxs)(n.p,{children:["All variables or (expressions with only own-values) has virtual type by default, i.e.\n",(0,a.jsx)(n.strong,{children:"they are executed in a virtual containers"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"a = 4;\n"})}),"\n",(0,a.jsxs)(n.p,{children:["It extends ",(0,a.jsx)(n.code,{children:"core"})," context with a symbol ",(0,a.jsx)(n.code,{children:"a"}),", that has property"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"core.a.virtual = true //what actually happends\n"})}),"\n",(0,a.jsx)(n.p,{children:"Therefore, if it enters any container as a sub-expression, it will bind to the container."}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2705  local memory and identity ",(0,a.jsx)("br",{}),"\n\u2705  possible to dynamically update and bind ",(0,a.jsx)("br",{}),"\n\u2757\ufe0f each time creates new instance  ",(0,a.jsx)("br",{})]})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"Set"})," operation scans this symbol in the ",(0,a.jsx)(n.code,{children:"core"})," context, and if it exists, ",(0,a.jsx)(n.code,{children:"update"})," method will be called with bubbling up to the nearest linked container"]}),"\n",(0,a.jsx)(n.p,{children:"i.e,"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"a = 4;\nFrontEndVirtual[{\n\tMyFunction[a] (* BINDED *)\n}]     (*.       ^ *)    \n\t   (*        | *)\na = 5; (* UPDATE | *)\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The last line will cause an update of ",(0,a.jsx)(n.code,{children:"MyFunction"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"conditions-when-an-instance-will-be-created-or-not",children:"Conditions, when an instance will be created or not"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"a = 4;\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2757\ufe0f for the first time, there is no instance created, only ",(0,a.jsx)(n.code,{children:"core.a"})]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"a = a + 1;\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2757\ufe0f set operation blocks instance creating for ",(0,a.jsx)(n.code,{children:"a"})," symbol ",(0,a.jsx)("br",{}),"\n\u2705 set operation causes ",(0,a.jsx)(n.code,{children:"update"})," on the binded containers"]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"While[True,\n\tMyFunction[a] (* NO DYNAMIC LINK CREATED *)\n]\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"\u2757\ufe0f while operation blocks instance creating to prevent memory leakage"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"MyFunction[a] (* DYNAMIC LINK CREATED *)\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2705 ",(0,a.jsx)(n.code,{children:"a"})," now is possibly binded to ",(0,a.jsx)(n.code,{children:"MyFunction"}),", if the last one is a virtual container"]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"data = Table[b[[i]] + b[[i+1]], {i,1,Length[b]-1}];  \n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2757\ufe0f ",(0,a.jsx)(n.code,{children:"Set"})," blocks instance creating, no dynamic binding possible"]})}),"\n",(0,a.jsxs)(n.p,{children:["For example, when we plot graphics, by default ",(0,a.jsx)(n.code,{children:"Line"}),", ",(0,a.jsx)(n.code,{children:"Point"})," and etc has virtual type"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"Graphics[\n\tTable[Line[b[[i]]], {i, Length[b]}]\n] //FrontEndVirtual\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u2705  multiple instances of ",(0,a.jsx)(n.code,{children:"b"})," were created and binded to ",(0,a.jsx)(n.code,{children:"Line"})]})}),"\n",(0,a.jsxs)(n.p,{children:["So this binding happends only between ",(0,a.jsx)(n.code,{children:"Line"})," and ",(0,a.jsx)(n.code,{children:"b[[i]]"}),", no ",(0,a.jsx)(n.code,{children:"Graphics"})," function is involved."]}),"\n",(0,a.jsx)(n.h4,{id:"-example-3",children:"\ud83c\udfa1 Example 3"}),"\n",(0,a.jsx)(n.p,{children:"Lines"}),"\n",(0,a.jsx)(r,{children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:'a = Table[{{0,0}, RandomReal[{-1,1}, 2]}, {i, 100}];\n\nFrontEndVirtual[{\n    AttachDOM["canvas"];\n    Graphics[{RGBColor[0.0,1.0,1.0],  \n    \n    Table[Line[a[[i]]], {i, Length[a]}]}];\n}];\n\n(* mix them up *)\na = RandomSample[a];  \n'})})}),"\n",(0,a.jsx)(s.c,{code:"('wls!'%24TablX((U0)NZReal%5B(-1%2C1)N2%5D)N(iN100)Q99_%5B(7977AttachDOM%5B%5C'canvas%5C'Q977G%23%5B(RGBColor%5B0.U1.U1.0Y7%20977977TablXLinXa%5B%5Bi6%5DN(iNLength%5Ba%5D)%5D)NImageSize-%3E(40U400)Q9)Q%2099WhilXTrue%2C9%24ZSamplXaQ%209PausX0.15Q9Q9'~js!'console.log%7B%22Hi%22%7D%3B'~includes!%5B'https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FJerryI%2Fwljs-g%23-d3%40latest%2Fdist%2Fkernel.js'~.%2Fcurves.js'%5D~compiled!%5B'Hold'8Setf*Table'KK%2CU0qZReal'K%2C-1%2C1Y26K~i'%2C1006q_'K8AttachDOM'~%22canvas%22'qG%23'K*RGBColor'%2CU1%2C1qTable'*Line'*Partf~i'6K~i'*Lengthf66*Rule'~ImageSize'K%2C40U4006Ynull6qWhile'%2Ctrue8Setf*ZSamplef6*Pause'%2C0.15Ynull6%2Cnull6)*%2C%5B'6%5D%5D7%20%208*CompoundExpression'*9%5CnK*List'N%2C%20Q%5D%3BU0%2CXe%5BY%5D%2CZRandom_FrontEndVirtualf'~a'q%5D*%23raphics%24a%20%3D%20%01%24%23qf_ZYXUQNK9876*_",height:"500",children:"Lines example"})]})}function u(e={}){const{wrapper:n}={...(0,i.M)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},19920:(e,n,t)=>{t.d(n,{c:()=>l});var a=t(11504);const i={crush:(e,n=50)=>{let t=[];const a="-_.!~*'()";for(let s=127;--s;)(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||a.includes(String.fromCharCode(s)))&&t.push(String.fromCharCode(s));for(let s=32;s<255;++s){let e=String.fromCharCode(s);"\\"==e||t.includes(e)||t.unshift(e)}e=e.replace(new RegExp("\x01","g"),"");const i=((e,t)=>{let a=t.length,i="";const s=e=>encodeURI(encodeURIComponent(e)).replace(/%../g,"i").length,r=e=>{let n=e.charCodeAt(0),t=e.charCodeAt(e.length-1);return n>=56320&&n<=57343||t>=55296&&t<=56319};let l={};for(let o=2;o<n;o++)for(let n=0;n<e.length-o;++n){let t=e.substr(n,o);if(l[t])continue;if(r(t))continue;let a=1;for(let i=e.indexOf(t,n+o);i>=0;++a)i=e.indexOf(t,i+o);a>1&&(l[t]=a)}for(;;){for(;a--&&e.includes(t[a]););if(a<0)break;let n,r=t[a],o=0,c=s(r);for(let e in l){let t=l[e],a=(t-1)*s(e)-(t+1)*c;i.length||(a-=s("\x01")),a<=0?delete l[e]:a>o&&(n=e,o=a)}if(!n)break;e=e.split(n).join(r)+r+n,i=r+i;let d={};for(let t in l){let a=t.split(n).join(r),i=0;for(let n=e.indexOf(a);n>=0;++i)n=e.indexOf(a,n+a.length);i>1&&(d[a]=i)}l=d}return{a:e,b:i}})(e=s(e),t);let r=i.a;return i.b.length&&(r+="\x01"+i.b),r+="_",r},uncrush:e=>{const n=(e=e.substring(0,e.length-1)).split("\x01");let t=n[0];if(n.length>1){let e=n[1];for(let n of e){let e=t.split(n);t=e.join(e.pop())}}return s(t,0)}},s=(e,n=1)=>{const t=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],a=(e,n)=>{let t=new RegExp(`${(n[2]?n[2]:"")+n[0]}|${(n[3]?n[3]:"")+n[1]}`,"g");return e.replace(t,(e=>e===n[0]?n[1]:n[0]))};if(n)for(let i=0;i<t.length;++i)e=a(e,t[i]);else for(let i=t.length;i--;)e=a(e,t[i]);return e};var r=t(17624);function l(e){let{children:n,code:t,width:s,height:l}=e;(0,a.useRef)();const o=JSON.parse(i.uncrush(decodeURIComponent(t))),c=o.js,d=o.compiled,h=`<html>\n  <head>  \n\n    <script>             \n    function isElement(o){\n      return (\n        typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2\n        o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName==="string"\n    );\n    }\n    <\/script>\n \n  </head>\n  <body>\n    <div id="canvas" style="text-align:center"></div>\n\n    \n    <script type="module" src="https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@main/dist/interpreter.js"><\/script>\n    <script type="module" src="https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@main/dist/core.js"><\/script>\n\n    ${(o.includes||[]).map((e=>`<script type="module" src="${e}"><\/script>`)).join("")}\n    \n\n    <script type="module">\n    console.log('start');\n      let global = {};\n      let env = {global: global};\n\n\n        const $f = async () => {\n          ${c}\n        };\n\n        const r = await $f();\n\n        console.log('js');\n\n        if (isElement(r)) {\n          document.getElementById('canvas').appendChild(r);\n        } else {\n          console.log(r);\n        }\n        console.log('op');\n        await interpretate(${JSON.stringify(d)}, env);\n        console.log('ok');\n\n\n    <\/script>\n  </body>\n  </html>`;return(0,r.jsx)("iframe",{width:s||"100%",height:l||"auto",srcDoc:h})}},74076:(e,n,t)=>{t.d(n,{c:()=>a});const a=t.p+"assets/images/Calling as FE.excalidraw-225b21875bef9c949270560e08e01b99.svg"},80964:(e,n,t)=>{t.d(n,{c:()=>a});const a=t.p+"assets/images/Simple call.excalidraw-fb15dcf006eec2792c01f712dae68003.svg"},67652:(e,n,t)=>{t.d(n,{c:()=>a});const a=t.p+"assets/images/virtualContainer.excalidraw-20525090f028ce1db23d271e765c6444.svg"},4552:(e,n,t)=>{t.d(n,{I:()=>l,M:()=>r});var a=t(11504);const i={},s=a.createContext(i);function r(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);