"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[2960],{93224:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var i=t(17624),r=t(4552),s=t(19920);const o={sidebar_position:4},a="Working with graphics",l={id:"interpreter/Basics/graphics",title:"Working with graphics",description:"Easy animations",source:"@site/docs/interpreter/Basics/graphics.md",sourceDirName:"interpreter/Basics",slug:"/interpreter/Basics/graphics",permalink:"/interpreter/Basics/graphics",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1686429762e3,sidebarPosition:4,frontMatter:{sidebar_position:4}},c={},d=[{value:"Easy animations",id:"easy-animations",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"working-with-graphics",children:"Working with graphics"}),"\n",(0,i.jsx)(n.h2,{id:"easy-animations",children:"Easy animations"}),"\n",(0,i.jsxs)(n.p,{children:["Since ",(0,i.jsx)(n.a,{href:"https://github.com/JerryI/wljs-graphics-d3",children:"wljs-graphics-d3"})," provides transitions on update, it is extremely easy to make some complicated animations"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mathematica",children:'data = RandomReal[{-1,1}, {400,2}];\n\nFrontEndVirtual[{\n    AttachDOM["canvas"];\n    Graphics[{RGBColor[1.0,0.,0.5], Point[data]}, "TransitionDuration"->0];\n}]; \n \nTable[\n  data = (1 - t) RandomReal[{-1,1}, {400,2}] \n            + t Table[{Sin[3i], Cos[2i]}, {i, 0, 6.28, 6.28/400}];\n            \n  Pause[0.1]; \n, {t, 0, 1, 0.025}]; \n'})}),"\n",(0,i.jsxs)(n.p,{children:["Each time we update ",(0,i.jsx)(n.code,{children:"data"})," variable, the transition between frames happends automatically based on selected ",(0,i.jsx)(n.code,{children:"TransitionDuration"})]}),"\n","\n",(0,i.jsx)(s.c,{code:"('wls!'%3CZYQQ%24%5B(Q77AttachDOM%5B%5C'canvas%5C'YQ77G%26%5B(RGBColor%5B1.q0.%2C0.5%5DKPoint%5Bdata%5D)K%5C'%23%5C'-%3E0YQ)Y%20QQWhile%5BTrue%2CQTable%5BQ7%3C%20%7B1%20-%20t%7DZ%5D%20Q777777%2B%20t%20Table%5B(Sin%5B3i%5DKCos%5B2i%5D)K(iK0K6.28K6.28%2F400)YQ777777Q7Pause%5B0.1Y%20QK(tK0K1K0.025)Y%20QQPause%5B2Y%20QQYQ'~js!''~includes!%5B'https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FJerryI%2Fwljs-g%26-d3%40latest%2Fdist%2Fkernel.js'~.%2Fcurves.js'%5D~compiled!%5B'Hold'NSe%25U%24'_'NAttachDOM'~%22canvas%22'%5D*G%26'_'*RGBColorX1%2Cq0.5%5D*Poin%259*Rule'~%22%23%22X09z9%5D*WhileXtrueNTable'NSe%25*Plus'*f'*PlusX1*fX-1~t'9Uf'~t'*Table'_'*Sin'*fX3~i'9*Cos'*fX2~i'9%5D_'~iXq6.28*fX6.28*PowerX40q-1999%5D*PauseX0.1%5Dz%5D_'~tXq1%2C0.0259*PauseX2%5Dz9z9)*%2C%5B'7%20%209%5D%5DK%2C%20N*CompoundExpression'*Q%5CnU*%3F'_X-1%2C1%5D_X40q29%5D*X'%2CY%5D%3BZ%20%3F%5B(-1%2C1)K(40q2)_*ListfTimesq0%2Cz%2Cnull%23TransitionDuration%24FrontEndVirtual%25t'~data'%26raphics%3Cdata%20%3D%3FRandomReal%01%3F%3C%26%25%24%23zqf_ZYXUQNK97*_",height:"500",children:"Ease"})]})}function h(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},19920:(e,n,t)=>{t.d(n,{c:()=>a});var i=t(11504);const r={crush:(e,n=50)=>{let t=[];const i="-_.!~*'()";for(let s=127;--s;)(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||i.includes(String.fromCharCode(s)))&&t.push(String.fromCharCode(s));for(let s=32;s<255;++s){let e=String.fromCharCode(s);"\\"==e||t.includes(e)||t.unshift(e)}e=e.replace(new RegExp("\x01","g"),"");const r=((e,t)=>{let i=t.length,r="";const s=e=>encodeURI(encodeURIComponent(e)).replace(/%../g,"i").length,o=e=>{let n=e.charCodeAt(0),t=e.charCodeAt(e.length-1);return n>=56320&&n<=57343||t>=55296&&t<=56319};let a={};for(let l=2;l<n;l++)for(let n=0;n<e.length-l;++n){let t=e.substr(n,l);if(a[t])continue;if(o(t))continue;let i=1;for(let r=e.indexOf(t,n+l);r>=0;++i)r=e.indexOf(t,r+l);i>1&&(a[t]=i)}for(;;){for(;i--&&e.includes(t[i]););if(i<0)break;let n,o=t[i],l=0,c=s(o);for(let e in a){let t=a[e],i=(t-1)*s(e)-(t+1)*c;r.length||(i-=s("\x01")),i<=0?delete a[e]:i>l&&(n=e,l=i)}if(!n)break;e=e.split(n).join(o)+o+n,r=o+r;let d={};for(let t in a){let i=t.split(n).join(o),r=0;for(let n=e.indexOf(i);n>=0;++r)n=e.indexOf(i,n+i.length);r>1&&(d[i]=r)}a=d}return{a:e,b:r}})(e=s(e),t);let o=r.a;return r.b.length&&(o+="\x01"+r.b),o+="_",o},uncrush:e=>{const n=(e=e.substring(0,e.length-1)).split("\x01");let t=n[0];if(n.length>1){let e=n[1];for(let n of e){let e=t.split(n);t=e.join(e.pop())}}return s(t,0)}},s=(e,n=1)=>{const t=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],i=(e,n)=>{let t=new RegExp(`${(n[2]?n[2]:"")+n[0]}|${(n[3]?n[3]:"")+n[1]}`,"g");return e.replace(t,(e=>e===n[0]?n[1]:n[0]))};if(n)for(let r=0;r<t.length;++r)e=i(e,t[r]);else for(let r=t.length;r--;)e=i(e,t[r]);return e};var o=t(17624);function a(e){let{children:n,code:t,width:s,height:a}=e;(0,i.useRef)();const l=JSON.parse(r.uncrush(decodeURIComponent(t))),c=l.js,d=l.compiled,p=`<html>\n  <head>  \n\n    <script>             \n    function isElement(o){\n      return (\n        typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2\n        o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName==="string"\n    );\n    }\n    <\/script>\n \n  </head>\n  <body>\n    <div id="canvas" style="text-align:center"></div>\n\n    \n    <script type="module" src="https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@main/dist/interpreter.js"><\/script>\n    <script type="module" src="https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@main/dist/core.js"><\/script>\n\n    ${(l.includes||[]).map((e=>`<script type="module" src="${e}"><\/script>`)).join("")}\n    \n\n    <script type="module">\n    console.log('start');\n      let global = {};\n      let env = {global: global};\n\n\n        const $f = async () => {\n          ${c}\n        };\n\n        const r = await $f();\n\n        console.log('js');\n\n        if (isElement(r)) {\n          document.getElementById('canvas').appendChild(r);\n        } else {\n          console.log(r);\n        }\n        console.log('op');\n        await interpretate(${JSON.stringify(d)}, env);\n        console.log('ok');\n\n\n    <\/script>\n  </body>\n  </html>`;return(0,o.jsx)("iframe",{width:s||"100%",height:a||"auto",srcDoc:p})}},4552:(e,n,t)=>{t.d(n,{I:()=>a,M:()=>o});var i=t(11504);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);