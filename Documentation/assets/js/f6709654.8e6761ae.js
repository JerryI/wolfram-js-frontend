"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[8780],{6264:(e,n,A)=>{A.r(n),A.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var t=A(17624),a=A(4552);const i={},r="Bad Apple, but it\u2019s Wolfram Language Plot",s={permalink:"/blog/2024/05/01/badapple",source:"@site/blog/2024-05-01-badapple/index.md",title:"Bad Apple, but it\u2019s Wolfram Language Plot",description:"Bad \ud83c\udf4e animation by Anira group originally based on ZUN)'s work for bullet shoot 'em up game Touhou Project_ is remarkable cultural internet phenomenon often used for testing and demonstrating the features of some old hardware, algorithms, graphics systems  or other esoteric medium. And in general as an of art object -  Bad Apple shadow animation is just eye-catching and amazingly crafted piece \u2728. Not even mentioning hot pumping 16-bit flavoured tune and a beautiful voice of Nomico (\u306e\u307f\u3053).",date:"2024-05-01T00:00:00.000Z",tags:[],readingTime:9.66,hasTruncateMarker:!0,authors:[],frontMatter:{},unlisted:!1,prevItem:{title:"Converting JSON crystal data to Graphics using AI Assistant",permalink:"/blog/2024/05/13/json-llm"},nextItem:{title:"Dynamic color and opacity implementation",permalink:"/blog/2024/04/24/dynamic-env"}},o={authorsImageUrls:[]},l=[{value:"One line to tell a story",id:"one-line-to-tell-a-story",level:2},{value:"Handling video frames",id:"handling-video-frames",level:3},{value:"Batch processing",id:"batch-processing",level:3},{value:"Animation",id:"animation",level:2},{value:"Using timers",id:"using-timers",level:3},{value:"Using browser&#39;s repaint cycle",id:"using-browsers-repaint-cycle",level:3},{value:"How to slow down the animation",id:"how-to-slow-down-the-animation",level:4},{value:"Optimizations",id:"optimizations",level:3},{value:"NumericArray",id:"numericarray",level:4},{value:"Skip points",id:"skip-points",level:4},{value:"Final video",id:"final-video",level:2},{value:"Bonus",id:"bonus",level:2},{value:"Iconic Mathematica&#39;s colors and axes",id:"iconic-mathematicas-colors-and-axes",level:3},{value:"Audio",id:"audio",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",...(0,a.M)(),...e.components},{CodeMirror:i,Details:r,Wl:s}=n;return i||g("CodeMirror",!0),r||g("Details",!0),s||g("Wl",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=FtutLA63Cp8",children:"Bad \ud83c\udf4e"})," animation by Anira group originally based on ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/ZUN_(video_game_developer)",children:"ZUN"}),"'s work for bullet shoot 'em up game ",(0,t.jsx)(n.em,{children:"Touhou Project"})," is remarkable cultural internet phenomenon often used for testing and demonstrating the features of some old hardware, algorithms, graphics systems  or other esoteric medium. And in general as an of art object -  Bad Apple ",(0,t.jsx)(n.em,{children:"shadow animation"})," is just eye-catching and amazingly crafted piece \u2728. Not even mentioning hot pumping 16-bit flavoured tune and a beautiful voice of Nomico (\u306e\u307f\u3053)."]}),"\n",(0,t.jsxs)(n.p,{children:["I (me @JerryI) have seen it many times popping up still in 2024, even as a ",(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=2Ni13dnAbSA",children:"Fluid Simulation"})," and have been questioning myself why not anyone to try to implement it lively using some scientific software like Jupyter or Matlab or Wolfram Language and a standard plot function? It could fun"]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Spoiler"}),(0,t.jsx)("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/QOuVV9nTras?si=vKT4GGCdY94ZHDOm",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0})]}),"\n",(0,t.jsxs)(n.p,{children:["Today we will learn how to render this animation in real-time using WLJS Notebook and a single ",(0,t.jsx)(n.code,{children:"Line"})," function."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Open WLJS Notebook and create a new notebook \ud83d\udcd2"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"one-line-to-tell-a-story",children:"One line to tell a story"}),"\n",(0,t.jsxs)(n.p,{children:["What is the most basic thing people try to do, when open Mathematica or WLJS Notebook for the first time? I believe it must be ",(0,t.jsx)(n.code,{children:"Plot"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"Plot[BesselJ[0, z], {z,0,10}]\n"})}),"\n",(0,t.jsx)(s,{children:"Plot[BesselJ[0, z], {z,0,10}]"}),"\n",(0,t.jsxs)(n.p,{children:["The idea would be to transform each frame of a video to a single line path. Similar to a ",(0,t.jsx)(n.em,{children:"one line art"}),". The approach is not new and ",(0,t.jsx)(n.a,{href:"https://www.wolfram.com/mathematica/new-in-10/enhanced-graphs-and-networks/continuous-line-drawing.html",children:"was published"})," by Wolfram Research as a fun example in Mathematica 10."]}),"\n",(0,t.jsx)(n.h3,{id:"handling-video-frames",children:"Handling video frames"}),"\n",(0,t.jsxs)(n.p,{children:["Firstly, obtain a video file of Bad Apple animation somehow and ",(0,t.jsx)(n.strong,{children:"directly drop it to any input cell."})," It will upload a file and will provide a reference to it. Modify the tail of expression to explicitly tell Wolfram Kernel to extract video frames"]}),"\n",(0,t.jsx)(i,{children:'video = Import[FileNameJoin[{"attachments", "Touhou - Bad Apple.mp4"}], (*BB[*)({"ImageList", All})(*,*)(*"1:eJxTTMoPSmNkYGAoZgESHvk5KRAeB5AILqnMSXXKr0hjgskHleakFnMBGU6JydnpRfmleSlpzDDlQe5Ozvk5+UVFDGDwwR6dwcAAAAHdFiw="*)(*]BB*)];'}),"\n",(0,t.jsx)(n.p,{children:"Let us try our methods on 500th frame"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"video[[500]] // Thumbnail\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:A(43640).c+"",width:"1346",height:"282"}),"\nYou can ",(0,t.jsx)(n.strong,{children:"directly copy and paste this image from the output cell"})," to a new input cell and wrap some function over it (like on a video at the end of the post). Since in this story I am limited to my markdown editor, for the demonstration purposes I will use a dedicated variable"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"img = video[[500]] // Thumbnail;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["It comes handy here that Bad Apple relies on ",(0,t.jsx)(n.em,{children:"shadow"})," animation style, so we can easily convert any image to a grid of ",(0,t.jsx)(n.code,{children:"1"})," and ",(0,t.jsx)(n.code,{children:"0"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"img = img // ImageAdjust // Binarize\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:A(27256).c+"",width:"1330",height:"266"}),"\nImagine if all dark parts will be filled with one long line path zig-zagging over it. This is somewhat easy to do if we know the positions of all dark pixels"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"pos = PixelValuePositions[img, 0]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:A(40908).c+"",width:"1344",height:"330"})}),"\n",(0,t.jsx)(n.p,{children:"Great. Thanks to a giant standard library of Wolfram Language, there is a complete solution for optimizing the path to cover all dark pixels"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"{length, path} = FindShortestTour[pos];\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Here we do not need ",(0,t.jsx)(n.code,{children:"length"}),", but only actual ",(0,t.jsx)(n.code,{children:"path"})," which contains indexes of points from ",(0,t.jsx)(n.code,{children:"pos"})," connected in order to form the shortest route though all dark pixels. Let's see how it looks"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"ListLinePlot[pos[[path]]]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:A(28989).c+"",width:"370",height:"239"})}),"\n",(0,t.jsx)(n.p,{children:"It feels a bit too dense for my taste, let's average it a bit"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"ListLinePlot[MovingAverage[pos[[path]], 5]]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:A(68444).c+"",width:"370",height:"239"})}),"\n",(0,t.jsxs)(n.p,{children:["This already feels more interesting and has a vibe of ",(0,t.jsx)(n.em,{children:"one line art"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"batch-processing",children:"Batch processing"}),"\n",(0,t.jsx)(n.p,{children:"Now we need to apply this set of steps to every frame. One can organize it like this"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"trace[frame_] :=\n    Module[{img, pos, path},\n        img = ImageAdjust[frame // Thumbnail // Binarize];\n        pos = PixelValuePositions[img, 0]//N; (* get numerical *)\n        path = FindShortestTour[pos][[2]];\n        MovingAverage[pos[[path]], 5]\n    ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"And to track progress, we can also add a bar"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",metastring:'title="optional"',children:'progressBar[max_Real | max_Integer] := LeakyModule[{\n\tprogress = 0.,\n\tbar,\n\tincrement,\n\ttimer = AbsoluteTime[]\n},\n\tbar = CellPrint[ToString[\n\t\tGraphics[{\n\t\t\tLightBlue, Rectangle[{-1,-1}, {1,1}],\n\t\t\tGreen, Rectangle[{-1,-1}, {Offload[2 progress - 1], 1}]\n\t\t}, ImagePadding->None, Controls->False, ImageSize->{400, 30}]\n\t, StandardForm], "After"->EvaluationCell[]];\n\n\t(* throttling *)\n\tincrement[value_Real | value_Integer] := If[AbsoluteTime[] - timer > 0.1,\n\t\ttimer = AbsoluteTime[];\n\t\tprogress = value / max // N;\n\t\tIf[progress >= 0.99, \n\t\t\tClearAll[increment];\n\t\t\tDelete[bar];\n\t\t];\n\t];\n\n\tincrement\n]\n'})}),"\n",(0,t.jsx)(n.p,{children:"I would not recommend to apply it right on all frames from the video, since an algorithm is extremely easy to implement, but it comes with performance costs."}),"\n",(0,t.jsx)(n.p,{children:"We can test it on the 100 frames (skipping black frames from the beginning)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"bar = progressBar[100];\nframes = MapIndexed[Function[{frame, index},\n  bar[index // First];\n  trace[frame]\n], Take[Drop[video,200], 100]];\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.em,{children:["It will take a while... Try lower resolution resizing each frame with ",(0,t.jsx)(n.code,{children:"ImageResize"})," function"]})}),"\n",(0,t.jsxs)(n.p,{children:["On my Mac Air M1 a single frame took ",(0,t.jsx)(n.code,{children:"~3"})," seconds to complete. In the end I left my laptop for next 5 hours and went for a walk in the forest to process an entire Bad Apple video, but you don't have to \ud83d\ude09 the final result is at the end of this post."]}),"\n",(0,t.jsxs)(n.p,{children:["An algorithm can definitely be improved in many ways, but for demonstration purposes I will leave it as it is for now. This is ",(0,t.jsx)(n.strong,{children:"the most naive approach"})," to one line stylised images."]}),"\n",(0,t.jsx)(n.h2,{id:"animation",children:"Animation"}),"\n",(0,t.jsxs)(n.p,{children:["How to animate this sequence of lines ",(0,t.jsx)(n.strong,{children:"right in the notebook"}),"? We do not want to cheat and use rasterized images. In Wolfram Mathematica, one can apply a simple ",(0,t.jsx)(n.code,{children:"animate"})," function, however, dynamics in WLJS Notebook built differently: only low-level graphics primitives support dynamic evaluation, i.e."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",metastring:'title="cell 1"',children:"currentFrame = frames // First;\nGraphics[Line[currentFrame // Offload], TransitionType->None]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["*it is important to disable any tween-ing function by ",(0,t.jsx)(n.code,{children:"TransitionType->None"}),", otherwise it will try to interpolate between frames, which is not good for our style *"]}),"\n",(0,t.jsxs)(n.p,{children:["Now if we change ",(0,t.jsx)(n.code,{children:"currentFrame"})," symbol, ",(0,t.jsx)(n.strong,{children:"a line will be redrawn using new data automatically"}),". For example one can assign it to a slider"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",metastring:'title="cell 2"',children:"EventHandler[InputRange[1, Length[frames], 1, 1], Function[index,\n\tcurrentFrame = frames[[index]];\n]]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:A(82256).c+"",width:"800",height:"377"})}),"\n",(0,t.jsx)(n.p,{children:"How to make it animated automatically? There are several ways"}),"\n",(0,t.jsx)(n.h3,{id:"using-timers",children:"Using timers"}),"\n",(0,t.jsx)(n.p,{children:"The first thing coming to head is just to set a timer instead of a slider"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"index = 1;\ntask = SetInterval[\n\tcurrentFrame = frames[[index]];\n\tindex++;\n\tIf[index > Length[frames], TaskRemove[task]];\n, 1000/30.0];\n"})}),"\n",(0,t.jsx)(n.p,{children:"It is suitable for most tasks, however for faster rates it might not keep up with the rest of the system. It also is not synchronized with a window refresh rate defined by a video engine."}),"\n",(0,t.jsx)(n.h3,{id:"using-browsers-repaint-cycle",children:"Using browser's repaint cycle"}),"\n",(0,t.jsxs)(n.p,{children:["This is almost 1:1 copy of Javascript's ",(0,t.jsx)(n.code,{children:"requestAnimationFrame"})," method. We need to assign an event handler and a special function, that will fire an event to update the frame"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",metastring:'title="cell 1"',children:'currentFrame = frames // First;\n\nindex = 1;\nEventHandler["frame", Function[Null,\n\tcurrentFrame = frames[[index]];\n\tindex++;\n\tIf[index > Length[frames], index = 1];\t\n]];\n\nGraphics[{\n\tLine[currentFrame // Offload],\n\tAnimationFrameListener[currentFrame // Offload, "Event"->"frame"]\n}, TransitionType->None]\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Here ",(0,t.jsx)(n.code,{children:"AnimationFrameListener"})," checks if ",(0,t.jsx)(n.code,{children:"currentFrame"})," is changing, and then requests an animation from a browser. On the next repaint cycle it will fire ",(0,t.jsx)(n.code,{children:"frame"})," event, which updates ",(0,t.jsx)(n.code,{children:"currentFrame"})," and the cycle repeats."]}),"\n",(0,t.jsx)(n.p,{children:"As a drawback, we cannot really control the speed, since it goes as fast as our system can go peaking at the refresh rate of a browser (60 - 120 FPS depending on the system)."}),"\n",(0,t.jsx)(n.h4,{id:"how-to-slow-down-the-animation",children:"How to slow down the animation"}),"\n",(0,t.jsxs)(n.p,{children:["We can skip frames to roughly match the frame-rate of a video. For this we need to check the passed time between ",(0,t.jsx)(n.code,{children:"frame"})," event calls and skip the call if needed"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:'currentFrame = frames // First;\ntime = AbsoluteTime[];\n\nindex = 1;\ndummy = 1;\nEventHandler["frame", Function[Null,\n\tIf[AbsoluteTime[] - time > 1/40.0, (* 40FPS lol *)\n\t\tcurrentFrame = frames[[index]];\n\t\tindex++;\n\t\tIf[index > Length[frames], index = 1];\n\t\ttime = \tAbsoluteTime[];\n\t,\n\t\tdummy = 1; (* just to kick a listener *)\n\t]\n]];\n\nGraphics[{\n\tLine[currentFrame // Offload],\n\tAnimationFrameListener[currentFrame // Offload, "Event"->"frame"],\n\tAnimationFrameListener[dummy // Offload, "Event"->"frame"]\n}, TransitionType->None]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"optimizations",children:"Optimizations"}),"\n",(0,t.jsx)(n.p,{children:"To improve the performance, we can apply several tricks"}),"\n",(0,t.jsx)(n.h4,{id:"numericarray",children:"NumericArray"}),"\n",(0,t.jsx)(n.p,{children:"Wolfram is a symbolic programming language, therefore even an array of numbers can become a higher-order specie. To explicitly tell a interpreter that there is no other things inside expect real or integer numbers (and will not be) we can wrap each frame into"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"frames = NumericArray /@ frames;\n"})}),"\n",(0,t.jsx)(n.p,{children:"It will also speed up the frontend."}),"\n",(0,t.jsx)(n.h4,{id:"skip-points",children:"Skip points"}),"\n",(0,t.jsx)(n.p,{children:"Since there is anyway a moving average filter applied, we do not need all points"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"frames = frames[[All, ;; ;; 2]]; (* take every 2nd *)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"final-video",children:"Final video"}),"\n",(0,t.jsx)(n.p,{children:"Here is the final result recorded in real-time (except the intro part)"}),"\n",(0,t.jsx)("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/QOuVV9nTras?si=vKT4GGCdY94ZHDOm",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,t.jsx)(n.h2,{id:"bonus",children:"Bonus"}),"\n",(0,t.jsx)(n.h3,{id:"iconic-mathematicas-colors-and-axes",children:"Iconic Mathematica's colors and axes"}),"\n",(0,t.jsxs)(n.p,{children:["This is 97's set in ",(0,t.jsx)(n.code,{children:"ColorData"}),", which gives this typical blue-ish color of any Wolfram Language plot. We can add it to our ",(0,t.jsx)(n.code,{children:"Graphics"})," symbol as well as typical x- and y-axis"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"Graphics[{\n\tColorData[97][1],\n\tLine[currentFrame // Offload],\n\t...\n}, Axes->True, TransitionType->None]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:A(95872).c+"",width:"370",height:"244"})}),"\n",(0,t.jsx)(n.h3,{id:"audio",children:"Audio"}),"\n",(0,t.jsx)(n.p,{children:"An audio can be extracted from a video file directly and played in the notebook"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:'audio = VideoExtractTracks[\n\tImport[FileNameJoin[{"attachments", "Touhou - Bad Apple.mp4"}]]\n, {"Audio", 1}]\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:A(29036).c+"",width:"1466",height:"104"})}),"\n",(0,t.jsx)(n.p,{children:"A completely different story is how to synchronize it with our animation. We need a stream player and manually feed audio chunks to it."}),"\n",(0,t.jsxs)(n.p,{children:["There is a low-level primitive ",(0,t.jsx)(n.code,{children:"PCMPlayer"}),", which can be used for this purpose. So let us create an audio buffer first and assign it to a player"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",metastring:'title="cell"',children:'audioBuffer = {};\nPCMPlayer[audioBuffer // Offload, "SignedInteger16", SampleRate->44100]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Now we need to provide PCM encoded data to it by chunks. Then we have to figure out how it is distributed over our frames"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:'audioData = AudioData[audio, "SignedInteger16"] // First;\nchunks = NumericArray /@ Partition[audioData, Round[Length[audioData]/Length[video]] + 1000];\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Here we added extra ",(0,t.jsx)(n.code,{children:"1000"})," samples to slightly overlap the portions to account the time needed for sending them and processing (just in case). You may increase it you hear some crackling noise."]}),"\n",(0,t.jsx)(n.p,{children:"Then we drop first 100, since we skipped them in frames"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"chunks = Drop[chunks, 100];\n"})}),"\n",(0,t.jsxs)(n.p,{children:["and modify our animation function accordingly. For the simplicity we will go with ",(0,t.jsx)(n.a,{href:"#Using%20timer",children:"Using timer"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"index = 1;\ntask = SetInterval[\n\tcurrentFrame = frames[[index]];\n\taudioBuffer = chunks[[index]];\n\tindex++;\n\tIf[index > Length[frames], TaskRemove[task]];\n, 1000/30.0];\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Full code"})," for the animation with sound is available below"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",metastring:'title="processing"',children:'video = Import[FileNameJoin[{"attachments", "Touhou - Bad Apple.mp4"}], {"ImageList", All}]; \n\naudio = VideoExtractTracks[Import[FileNameJoin[{"attachments", "Touhou - Bad Apple.mp4"}]], {"Audio", 1}];\n\ntrace[frame_] :=\n    Module[{img, pos, path},\n        img = ImageAdjust[frame // Thumbnail // Binarize];\n        pos = PixelValuePositions[img, 0]//N;\n        path = FindShortestTour[pos][[2]];\n        MovingAverage[pos[[path]], 5]\n    ];\n\n(* optional *)\nprogressBar[max_Real | max_Integer] := LeakyModule[{\n\tprogress = 0.,\n\tbar,\n\tincrement,\n\ttimer = AbsoluteTime[]\n},\n\tbar = CellPrint[ToString[\n\t\tGraphics[{\n\t\t\tLightBlue, Rectangle[{-1,-1}, {1,1}],\n\t\t\tGreen, Rectangle[{-1,-1}, {Offload[2 progress - 1], 1}]\n\t\t}, ImagePadding->None, Controls->False, ImageSize->{400, 30}]\n\t, StandardForm], "After"->EvaluationCell[]];\n\n\t(* throttling *)\n\tincrement[value_Real | value_Integer] := If[AbsoluteTime[] - timer > 0.1,\n\t\ttimer = AbsoluteTime[];\n\t\tprogress = value / max // N;\n\t\tIf[progress >= 0.99, \n\t\t\tClearAll[increment];\n\t\t\tDelete[bar];\n\t\t];\n\t];\n\n\tincrement\n];\n\nbar = progressBar[100];\nframes = MapIndexed[Function[{frame, index},\n  bar[index // First];\n  trace[frame]\n], Take[Drop[video,100], 100]];\n\nframes = NumericArray /@ frames;\n\naudioData = AudioData[audio, "SignedInteger16"] // First;\nchunks = NumericArray /@ Partition[audioData, Round[Length[audioData]/Length[video]] + 1000];\nchunks = Drop[chunks, 100];\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",metastring:'title="animating"',children:'audioBuffer = {};\ncurrentFrame = frames // First;\nPCMPlayer[audioBuffer // Offload, "SignedInteger16", SampleRate->44100]\n\nGraphics[{\n\tRGBColor[0.368417, 0.506779, 0.709798],\n\tLine[currentFrame // Offload]\n}, TransitionType->None, Axes->True]\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",metastring:'title="animating"',children:"index = 1;\ntask = SetInterval[\n\tcurrentFrame = frames[[index]];\n\taudioBuffer = chunks[[index]];\n\tindex++;\n\tIf[index > Length[frames], TaskRemove[task]];\n, 1000/30.0];\n"})}),"\n",(0,t.jsx)(n.p,{children:"See you next time \ud83e\ude84"}),"\n",(0,t.jsx)(n.p,{children:"Cheers,\nKirill"})]})}function c(e={}){const{wrapper:n}={...(0,a.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}function g(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},43640:(e,n,A)=>{A.d(n,{c:()=>t});const t=A.p+"assets/images/Screenshot 2024-06-01 at 20.55.29-8b68b8dc059cd9cbfc1741a4e0b276d5.png"},27256:(e,n,A)=>{A.d(n,{c:()=>t});const t=A.p+"assets/images/Screenshot 2024-06-01 at 21.00.13-a7b837136cc9be06e34fd7444cc8aa22.png"},40908:(e,n,A)=>{A.d(n,{c:()=>t});const t=A.p+"assets/images/Screenshot 2024-06-01 at 21.03.19-43485b4097667e3c5b3ac10f8a91b6bf.png"},29036:(e,n,A)=>{A.d(n,{c:()=>t});const t="data:image/png;base64,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BN0V0+lIgAABAgQIECBAgAABAgQIECBAgAABAkUQEHQXYRXMgQABAgQIECBAgAABAgQIECBAgAABAgQqFhB0V0ynIwECBAgQIECAAAECBAgQIECAAAECBAgUQUDQXYRVMAcCBAgQIECAAAECBAgQIECAAAECBAgQqFhA0F0xnY4ECBAgQIAAAQIECBAgQIAAAQIECBAgUAQBQXcRVsEcCBAgQIAAAQIECBAgQIAAAQIECBAgQKBiAUF3xXQ6EiBAgAABAgQIECBAgAABAgQIECBAgEARBATdRVgFcyBAgAABAgQIECBAgAABAgQIECBAgACBigUE3RXT6UiAAAECBAgQIECAAAECBAgQIECAAAECRRAQdBdhFcyBAAECBAgQIECAAAECBAgQIECAAAECBCoWEHRXTKcjAQIECBAgQIAAAQIECBAgQIAAAQIECBRBQNBdhFUwBwIECBAgQIAAAQIECBAgQIAAAQIECBCoWEDQXTGdjgQIECBAgAABAgQIECBAgAABAgQIECBQBAFBdxFWwRwIECBAgAABAgQIECBAgAABAgQIECBAoGIBQXfFdDoSIECAAAECBAgQIECAAAECBAgQIECAQBEEBN1FWAVzIECAAAECBAgQIECAAAECBAgQIECAAIGKBQTdFdPpSIAAAQIECBAgQIAAAQIECBAgQIAAAQJFEBB0F2EVzIEAAQIECBAgQIAAAQIECBAgQIAAAQIEKhYQdFdMpyMBAgQIECBAgAABAgQIECBAgAABAgQIFEFA0F2EVTAHAgQIECBAgAABAgQIECBAgAABAgQIEKhYQNBdMZ2OBAgQIECAAAECBAgQIECAAAECBAgQIFAEAUF3EVbBHAgQIECAAAECBAgQIECAAAECBAgQIECgYgFBd8V0OhIgQIAAAQIECBAgQIAAAQIECBAgQIBAEQT+H7/NAl8LX8ivAAAAAElFTkSuQmCC"},28989:(e,n,A)=>{A.d(n,{c:()=>t});const t=A.p+"assets/images/path-test-1-291f9860fe63bf921e971fcc3ed8af36.svg"},82256:(e,n,A)=>{A.d(n,{c:()=>t});const t=A.p+"assets/images/test-gif-demo-ezgif.com-optimize-eca3553355b167a02a1b5fff10f4678a.gif"},68444:(e,n,A)=>{A.d(n,{c:()=>t});const t=A.p+"assets/images/test-path-4-aae6207fe4915abc87291ff022010d5e.svg"},95872:(e,n,A)=>{A.d(n,{c:()=>t});const t=A.p+"assets/images/true-plot-f0d8787303dd822bb7573614e742a476.svg"},4552:(e,n,A)=>{A.d(n,{I:()=>s,M:()=>r});var t=A(11504);const a={},i=t.createContext(a);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);