"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[7320],{2264:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var t=i(17624),r=i(4552);const l={},s=void 0,a={id:"frontend/Reference/Misc/Events",title:"Events",description:"EventObject",source:"@site/docs/frontend/Reference/Misc/Events.md",sourceDirName:"frontend/Reference/Misc",slug:"/frontend/Reference/Misc/Events",permalink:"/frontend/Reference/Misc/Events",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1721164787e3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Async",permalink:"/frontend/Reference/Misc/Async"},next:{title:"Language",permalink:"/frontend/Reference/Misc/Language"}},d={},c=[{value:"<code>EventObject</code>",id:"eventobject",level:2},{value:"<code>&quot;Initial&quot;</code>",id:"initial",level:3},{value:"<code>&quot;View&quot;</code>",id:"view",level:3},{value:"Inheritable properties",id:"inheritable-properties",level:3},{value:"Non-inheritable properties",id:"non-inheritable-properties",level:3},{value:"<code>EventHandler</code>",id:"eventhandler",level:2},{value:"Return value",id:"return-value",level:4},{value:"Example",id:"example",level:3},{value:"<code>EventClone</code>",id:"eventclone",level:2},{value:"<code>EventRemove</code>",id:"eventremove",level:2},{value:"<code>EventJoin</code>",id:"eventjoin",level:2},{value:"<code>EventFire</code>",id:"eventfire",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,r.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"eventobject",children:(0,t.jsx)(n.code,{children:"EventObject"})}),"\n",(0,t.jsx)(n.p,{children:"A complete representation of event-object with its initial data and possible decorative representation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:'EventObject[<|"Id"->_String, "Initial"->_, "View"->_|>]\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Actual binding happens with only ",(0,t.jsx)(n.code,{children:'"Id"'})," field, therefore a string equivalent is also valid to use"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"_String\n"})}),"\n",(0,t.jsx)(n.p,{children:"To generate a new unique object, one can also use this constructor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"newEvent = EventObject[]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"initial",children:(0,t.jsx)(n.code,{children:'"Initial"'})}),"\n",(0,t.jsx)(n.p,{children:"Stores initial data, which makes sense if an event object was produced by some sliders, toggle switches or other UI elements."}),"\n",(0,t.jsxs)(n.p,{children:["If an event was joined with other event, ",(0,t.jsx)(n.code,{children:'"Initial"'})," data will be merged as well depending on its original structure."]}),"\n",(0,t.jsxs)(n.p,{children:["If an event object is used in ",(0,t.jsx)(n.a,{href:"#%60EventFire%60",children:(0,t.jsx)(n.code,{children:"EventFire"})})," with no data provided, ",(0,t.jsx)(n.code,{children:'"Initial"'})," field will be used instead as a payload."]}),"\n",(0,t.jsx)(n.h3,{id:"view",children:(0,t.jsx)(n.code,{children:'"View"'})}),"\n",(0,t.jsxs)(n.p,{children:["An implementation depends on the executing environment. On WLX pages, or inside notebook this field will represent how an event object will be displayed. Usually if it has been generated by some UI component, a button or a slider is displayed on output, that fires this event remotely using a provided ",(0,t.jsx)(n.code,{children:'"Id"'}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"inheritable-properties",children:"Inheritable properties"}),"\n",(0,t.jsxs)(n.p,{children:["There is only a single field ",(0,t.jsx)(n.code,{children:'"Initial"'})," that can be merged or copied under  ",(0,t.jsx)(n.a,{href:"#%60EventClone%60",children:(0,t.jsx)(n.code,{children:"EventClone"})})," and ",(0,t.jsx)(n.code,{children:"Join"})," or ",(0,t.jsx)(n.a,{href:"#%60EventJoin%60",children:(0,t.jsx)(n.code,{children:"EventJoin"})})," operations."]}),"\n",(0,t.jsx)(n.h3,{id:"non-inheritable-properties",children:"Non-inheritable properties"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:'"Id"'}),", ",(0,t.jsx)(n.code,{children:'"View"'})," cannot be copied under ",(0,t.jsx)(n.a,{href:"#%60EventJoin%60",children:(0,t.jsx)(n.code,{children:"EventJoin"})}),", ",(0,t.jsx)(n.a,{href:"#%60EventClone%60",children:(0,t.jsx)(n.code,{children:"EventClone"})})," and ",(0,t.jsx)(n.code,{children:"Join"})," operations."]}),"\n",(0,t.jsx)(n.h2,{id:"eventhandler",children:(0,t.jsx)(n.code,{children:"EventHandler"})}),"\n",(0,t.jsxs)(n.p,{children:["Binds an event object represented as a string or ",(0,t.jsx)(n.a,{href:"#%60EventObject%60",children:(0,t.jsx)(n.code,{children:"EventObject"})})," or anything compatible with this type to a single or multiple handling functions (multiple - only ",(0,t.jsx)(n.strong,{children:"if patterns do not intersect"}),")"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"EventHandler[ev_String | _EventObject, {handlers___Rule | handlers___RuleDelayed}]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["where ",(0,t.jsx)(n.code,{children:"handlers"})," is a sequence of rules (straight or delayed), which are applied to any incoming message. Each rule represents a normal WL pattern to mach a message generated by ",(0,t.jsx)(n.a,{href:"#%60EventFire%60",children:(0,t.jsx)(n.code,{children:"EventFire"})}),"."]}),"\n",(0,t.jsx)(n.p,{children:"There is a simpler version as well, which is indifferent to patterns"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"EventHandler[ev_String | _EventObject, handler_]\n"})}),"\n",(0,t.jsx)(n.p,{children:"which is effectively"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"EventHandler[ev_String | _EventObject, {_ -> handler_}]\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Only a single handler function can be assign to an event object per pattern"}),". If you need multiple handlers (chain) to be assigned to the same event and pattern - clone your event firstly using ",(0,t.jsx)(n.a,{href:"#%60EventClone%60",children:(0,t.jsx)(n.code,{children:"EventClone"})})]})}),"\n",(0,t.jsx)(n.h4,{id:"return-value",children:"Return value"}),"\n",(0,t.jsxs)(n.p,{children:["It is optional, but any ",(0,t.jsx)(n.code,{children:"handler"})," can return any non-Null expression, which will be presented as a return value of ",(0,t.jsx)(n.code,{children:"EventFire"})," expression."]}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.p,{children:"The simples case scenario"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:'EventHandler["ev", Print];\nEventFire["ev", "Hello World!"];\n'})}),"\n",(0,t.jsx)(n.p,{children:"or using different patterns"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:'EventHandler["ev", {\n\t"Case 1" -> Print,\n\t"Case 2" -> Echo,\n\tany_String :> Function[data, Echo[StringJoin["Undefined case: ", any]]]\n}];\n\nEventFire["ev", "Case 1", "Hello World!"];\nEventFire["ev", "Case 2", "Hello World!"];\nEventFire["ev", "Case 3", "Hello World!"];\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Patterns do not have to be strings only. Any Wolfram Expression is valid"})}),"\n",(0,t.jsx)(n.h2,{id:"eventclone",children:(0,t.jsx)(n.code,{children:"EventClone"})}),"\n",(0,t.jsx)(n.p,{children:"Clones event object and returns a new one, keeping all previous assigned handlers on another copy of it"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"EventClone[ev_String | _EventObject] _EventObject\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Multiple calls on the same ",(0,t.jsx)(n.code,{children:"ev"})," makes a chain of new event objects connected to it. Once ",(0,t.jsx)(n.a,{href:"#%60EventFire%60",children:(0,t.jsx)(n.code,{children:"EventFire"})})," is called on ",(0,t.jsx)(n.code,{children:"ev"}),", it will sequentially fire all cloned events in a chain."]}),"\n",(0,t.jsx)(n.h2,{id:"eventremove",children:(0,t.jsx)(n.code,{children:"EventRemove"})}),"\n",(0,t.jsx)(n.p,{children:"Removes all handlers from a given event object"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"EventRemove[ev_String | _EventObject]\n"})}),"\n",(0,t.jsx)(n.p,{children:"or"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"Delete[ev_EventObject]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["is also valid. ",(0,t.jsx)(n.em,{children:"Removing a cloned event only removes handlers from the cloned event object"})]}),"\n",(0,t.jsx)(n.h2,{id:"eventjoin",children:(0,t.jsx)(n.code,{children:"EventJoin"})}),"\n",(0,t.jsxs)(n.p,{children:["Joins two independent events into a new one merging their ",(0,t.jsx)(n.code,{children:'"Initial"'})," values as well"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"EventJoin[ev__String | __EventObject] _EventObject\n"})}),"\n",(0,t.jsx)(n.p,{children:"however"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"Join[ev__EventObject] _EventObject\n"})}),"\n",(0,t.jsx)(n.p,{children:"is also valid."}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"It does not clone original objects"})}),"\n",(0,t.jsx)(n.h2,{id:"eventfire",children:(0,t.jsx)(n.code,{children:"EventFire"})}),"\n",(0,t.jsx)(n.p,{children:"Fires an event with provided data and pattern"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"EventFire[ev_String | _EventObject, data_] _\nEventFire[ev_String | _EventObject, pattern_, data_] _\n"})}),"\n",(0,t.jsx)(n.p,{children:"or for a complete event object representation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mathematica",children:"EventFire[ev_EventObject] _\n"})}),"\n",(0,t.jsxs)(n.p,{children:["it takes ",(0,t.jsx)(n.code,{children:'"Initial"'})," field as ",(0,t.jsx)(n.code,{children:"data"}),". Effectively if ",(0,t.jsx)(n.code,{children:"pattern"})," is not provided ",(0,t.jsx)(n.code,{children:'"Default"'})," pattern is used instead."]})]})}function h(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},4552:(e,n,i)=>{i.d(n,{I:()=>a,M:()=>s});var t=i(11504);const r={},l=t.createContext(r);function s(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);