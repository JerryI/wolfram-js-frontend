"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[6640],{82764:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>M,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var i=n(17624),r=n(4552);const t={env:["WLJS"],package:"wljs-graphics3d-threejs",source:"https://github.com/JerryI/Mathematica-ThreeJS-graphics-engine/blob/dev/src/kernel.js",update:!0},M=void 0,a={id:"frontend/Reference/Graphics3D/GraphicsComplex",title:"GraphicsComplex",description:"represents an efficient graphics structure for drawing complex 3D objects (or 2D - see GraphicsComplex) storing vertices data in data variable. It replaces indexes found in primitives (can be nested) with a corresponding vertices and colors (if specified)",source:"@site/docs/frontend/Reference/Graphics3D/GraphicsComplex.md",sourceDirName:"frontend/Reference/Graphics3D",slug:"/frontend/Reference/Graphics3D/GraphicsComplex",permalink:"/frontend/Reference/Graphics3D/GraphicsComplex",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1711835414,formattedLastUpdatedAt:"Mar 30, 2024",frontMatter:{env:["WLJS"],package:"wljs-graphics3d-threejs",source:"https://github.com/JerryI/Mathematica-ThreeJS-graphics-engine/blob/dev/src/kernel.js",update:!0},sidebar:"tutorialSidebar",previous:{title:"GeometricTransformation",permalink:"/frontend/Reference/Graphics3D/GeometricTransformation"},next:{title:"GraphicsGroup",permalink:"/frontend/Reference/Graphics3D/GraphicsGroup"}},o={},c=[{value:"Supported primitives",id:"supported-primitives",level:2},{value:"<code>Line</code>",id:"line",level:3},{value:"<code>Polygon</code>",id:"polygon",level:3},{value:"Options",id:"options",level:2},{value:"<code>&quot;VertexColors&quot;</code>",id:"vertexcolors",level:3},{value:"Dynamic updates",id:"dynamic-updates",level:2}];function N(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.M)(),...e.components},{Wl:t}=s;return t||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Wl",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mathematica",children:"GraphicsComplex[data_List, primitives_, opts___]\n"})}),"\n",(0,i.jsxs)(s.p,{children:["represents an efficient graphics structure for drawing complex 3D objects (or 2D - see ",(0,i.jsx)(s.a,{href:"/frontend/Reference/Graphics/GraphicsComplex",children:"GraphicsComplex"}),") storing vertices data in ",(0,i.jsx)(s.code,{children:"data"})," variable. It replaces indexes found in ",(0,i.jsx)(s.code,{children:"primitives"})," (can be nested) with a corresponding vertices and colors (if specified)"]}),"\n",(0,i.jsxs)(s.p,{children:["Most plotting functions such as ",(0,i.jsx)(s.a,{href:"/frontend/Reference/Plotting%20Functions/ListPlot3D",children:"ListPlot3D"})," and others use this way showing 3D graphics."]}),"\n",(0,i.jsxs)(s.p,{children:["The implementation of ",(0,i.jsx)(s.a,{href:"/frontend/Reference/Graphics3D/GraphicsComplex",children:"GraphicsComplex"})," is based on a low-level THREE.js buffer position ",(0,i.jsx)(s.a,{href:"https://threejs.org/docs/#api/en/core/BufferAttribute",children:"attribute"})," directly written to a GPU memory."]}),"\n",(0,i.jsx)(s.h2,{id:"supported-primitives",children:"Supported primitives"}),"\n",(0,i.jsx)(s.h3,{id:"line",children:(0,i.jsx)(s.code,{children:"Line"})}),"\n",(0,i.jsx)(s.p,{children:"No restrictions"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mathematica",children:'v = PolyhedronData["Dodecahedron", "Vertices"] // N;\ni = PolyhedronData["Dodecahedron", "FaceIndices"];\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mathematica",children:"GraphicsComplex[v, {Black, Line[i]}] // Graphics3D \n"})}),"\n",(0,i.jsx)(t,{data:"WyJHcmFwaGljczNEIixbIkdyYXBoaWNzQ29tcGxleCIsWyJMaXN0IixbIkxpc3QiLC0xLjM3NjM4\nMTkyMDQ3MTE3MzYsMC4wLDAuMjYyODY1NTU2MDU5NTY2OF0sWyJMaXN0IiwxLjM3NjM4MTkyMDQ3\nMTE3MzYsMC4wLC0wLjI2Mjg2NTU1NjA1OTU2NjhdLFsiTGlzdCIsLTAuNDI1MzI1NDA0MTc2MDIs\nLTEuMzA5MDE2OTk0Mzc0OTQ3NSwwLjI2Mjg2NTU1NjA1OTU2NjhdLFsiTGlzdCIsLTAuNDI1MzI1\nNDA0MTc2MDIsMS4zMDkwMTY5OTQzNzQ5NDc1LDAuMjYyODY1NTU2MDU5NTY2OF0sWyJMaXN0Iiwx\nLjExMzUxNjM2NDQxMTYwNjYsLTAuODA5MDE2OTk0Mzc0OTQ3NSwwLjI2Mjg2NTU1NjA1OTU2Njhd\nLFsiTGlzdCIsMS4xMTM1MTYzNjQ0MTE2MDY2LDAuODA5MDE2OTk0Mzc0OTQ3NSwwLjI2Mjg2NTU1\nNjA1OTU2NjhdLFsiTGlzdCIsLTAuMjYyODY1NTU2MDU5NTY2OCwtMC44MDkwMTY5OTQzNzQ5NDc1\nLDEuMTEzNTE2MzY0NDExNjA2Nl0sWyJMaXN0IiwtMC4yNjI4NjU1NTYwNTk1NjY4LDAuODA5MDE2\nOTk0Mzc0OTQ3NSwxLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsLTAuNjg4MTkwOTYwMjM1NTg2\nOCwtMC41LC0xLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsLTAuNjg4MTkwOTYwMjM1NTg2OCww\nLjUsLTEuMTEzNTE2MzY0NDExNjA2Nl0sWyJMaXN0IiwwLjY4ODE5MDk2MDIzNTU4NjgsLTAuNSwx\nLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsMC42ODgxOTA5NjAyMzU1ODY4LDAuNSwxLjExMzUx\nNjM2NDQxMTYwNjZdLFsiTGlzdCIsMC44NTA2NTA4MDgzNTIwNCwwLjAsLTEuMTEzNTE2MzY0NDEx\nNjA2Nl0sWyJMaXN0IiwtMS4xMTM1MTYzNjQ0MTE2MDY2LC0wLjgwOTAxNjk5NDM3NDk0NzUsLTAu\nMjYyODY1NTU2MDU5NTY2OF0sWyJMaXN0IiwtMS4xMTM1MTYzNjQ0MTE2MDY2LDAuODA5MDE2OTk0\nMzc0OTQ3NSwtMC4yNjI4NjU1NTYwNTk1NjY4XSxbIkxpc3QiLC0wLjg1MDY1MDgwODM1MjA0LDAu\nMCwxLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsMC4yNjI4NjU1NTYwNTk1NjY4LC0wLjgwOTAx\nNjk5NDM3NDk0NzUsLTEuMTEzNTE2MzY0NDExNjA2Nl0sWyJMaXN0IiwwLjI2Mjg2NTU1NjA1OTU2\nNjgsMC44MDkwMTY5OTQzNzQ5NDc1LC0xLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsMC40MjUz\nMjU0MDQxNzYwMTk5NCwtMS4zMDkwMTY5OTQzNzQ5NDc1LC0wLjI2Mjg2NTU1NjA1OTU2NjhdLFsi\nTGlzdCIsMC40MjUzMjU0MDQxNzYwMTk5NCwxLjMwOTAxNjk5NDM3NDk0NzUsLTAuMjYyODY1NTU2\nMDU5NTY2OF1dLFsiTGlzdCIsWyJHcmF5TGV2ZWwiLDBdLFsiTGluZSIsWyJMaXN0IixbIkxpc3Qi\nLDE1LDEwLDksMTQsMV0sWyJMaXN0IiwyLDYsMTIsMTEsNV0sWyJMaXN0Iiw1LDExLDcsMywxOV0s\nWyJMaXN0IiwxMSwxMiw4LDE2LDddLFsiTGlzdCIsMTIsNiwyMCw0LDhdLFsiTGlzdCIsNiwyLDEz\nLDE4LDIwXSxbIkxpc3QiLDIsNSwxOSwxNywxM10sWyJMaXN0Iiw0LDIwLDE4LDEwLDE1XSxbIkxp\nc3QiLDE4LDEzLDE3LDksMTBdLFsiTGlzdCIsMTcsMTksMywxNCw5XSxbIkxpc3QiLDMsNywxNiwx\nLDE0XSxbIkxpc3QiLDE2LDgsNCwxNSwxXV1dXV1d\n",children:'v = PolyhedronData["Dodecahedron", "Vertices"] // N; i = PolyhedronData["Dodecahedron", "FaceIndices"]; GraphicsComplex[v, {Black, Line[i]}] // Graphics3D '}),"\n",(0,i.jsx)(s.h3,{id:"polygon",children:(0,i.jsx)(s.code,{children:"Polygon"})}),"\n",(0,i.jsx)(s.p,{children:"Triangles works faster than quads or pentagons"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mathematica",children:"GraphicsComplex[v, Polygon[i]] // Graphics3D \n"})}),"\n",(0,i.jsx)(t,{data:"WyJHcmFwaGljczNEIixbIkdyYXBoaWNzQ29tcGxleCIsWyJMaXN0IixbIkxpc3QiLC0xLjM3NjM4\nMTkyMDQ3MTE3MzYsMC4wLDAuMjYyODY1NTU2MDU5NTY2OF0sWyJMaXN0IiwxLjM3NjM4MTkyMDQ3\nMTE3MzYsMC4wLC0wLjI2Mjg2NTU1NjA1OTU2NjhdLFsiTGlzdCIsLTAuNDI1MzI1NDA0MTc2MDIs\nLTEuMzA5MDE2OTk0Mzc0OTQ3NSwwLjI2Mjg2NTU1NjA1OTU2NjhdLFsiTGlzdCIsLTAuNDI1MzI1\nNDA0MTc2MDIsMS4zMDkwMTY5OTQzNzQ5NDc1LDAuMjYyODY1NTU2MDU5NTY2OF0sWyJMaXN0Iiwx\nLjExMzUxNjM2NDQxMTYwNjYsLTAuODA5MDE2OTk0Mzc0OTQ3NSwwLjI2Mjg2NTU1NjA1OTU2Njhd\nLFsiTGlzdCIsMS4xMTM1MTYzNjQ0MTE2MDY2LDAuODA5MDE2OTk0Mzc0OTQ3NSwwLjI2Mjg2NTU1\nNjA1OTU2NjhdLFsiTGlzdCIsLTAuMjYyODY1NTU2MDU5NTY2OCwtMC44MDkwMTY5OTQzNzQ5NDc1\nLDEuMTEzNTE2MzY0NDExNjA2Nl0sWyJMaXN0IiwtMC4yNjI4NjU1NTYwNTk1NjY4LDAuODA5MDE2\nOTk0Mzc0OTQ3NSwxLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsLTAuNjg4MTkwOTYwMjM1NTg2\nOCwtMC41LC0xLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsLTAuNjg4MTkwOTYwMjM1NTg2OCww\nLjUsLTEuMTEzNTE2MzY0NDExNjA2Nl0sWyJMaXN0IiwwLjY4ODE5MDk2MDIzNTU4NjgsLTAuNSwx\nLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsMC42ODgxOTA5NjAyMzU1ODY4LDAuNSwxLjExMzUx\nNjM2NDQxMTYwNjZdLFsiTGlzdCIsMC44NTA2NTA4MDgzNTIwNCwwLjAsLTEuMTEzNTE2MzY0NDEx\nNjA2Nl0sWyJMaXN0IiwtMS4xMTM1MTYzNjQ0MTE2MDY2LC0wLjgwOTAxNjk5NDM3NDk0NzUsLTAu\nMjYyODY1NTU2MDU5NTY2OF0sWyJMaXN0IiwtMS4xMTM1MTYzNjQ0MTE2MDY2LDAuODA5MDE2OTk0\nMzc0OTQ3NSwtMC4yNjI4NjU1NTYwNTk1NjY4XSxbIkxpc3QiLC0wLjg1MDY1MDgwODM1MjA0LDAu\nMCwxLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsMC4yNjI4NjU1NTYwNTk1NjY4LC0wLjgwOTAx\nNjk5NDM3NDk0NzUsLTEuMTEzNTE2MzY0NDExNjA2Nl0sWyJMaXN0IiwwLjI2Mjg2NTU1NjA1OTU2\nNjgsMC44MDkwMTY5OTQzNzQ5NDc1LC0xLjExMzUxNjM2NDQxMTYwNjZdLFsiTGlzdCIsMC40MjUz\nMjU0MDQxNzYwMTk5NCwtMS4zMDkwMTY5OTQzNzQ5NDc1LC0wLjI2Mjg2NTU1NjA1OTU2NjhdLFsi\nTGlzdCIsMC40MjUzMjU0MDQxNzYwMTk5NCwxLjMwOTAxNjk5NDM3NDk0NzUsLTAuMjYyODY1NTU2\nMDU5NTY2OF1dLFsiTGlzdCIsWyJQb2x5Z29uIixbIkxpc3QiLFsiTGlzdCIsMTUsMTAsOSwxNCwx\nXSxbIkxpc3QiLDIsNiwxMiwxMSw1XSxbIkxpc3QiLDUsMTEsNywzLDE5XSxbIkxpc3QiLDExLDEy\nLDgsMTYsN10sWyJMaXN0IiwxMiw2LDIwLDQsOF0sWyJMaXN0Iiw2LDIsMTMsMTgsMjBdLFsiTGlz\ndCIsMiw1LDE5LDE3LDEzXSxbIkxpc3QiLDQsMjAsMTgsMTAsMTVdLFsiTGlzdCIsMTgsMTMsMTcs\nOSwxMF0sWyJMaXN0IiwxNywxOSwzLDE0LDldLFsiTGlzdCIsMyw3LDE2LDEsMTRdLFsiTGlzdCIs\nMTYsOCw0LDE1LDFdXV1dXV0=\n",children:'v = PolyhedronData["Dodecahedron", "Vertices"] // N; i = PolyhedronData["Dodecahedron", "FaceIndices"]; GraphicsComplex[v, {Polygon[i]}] // Graphics3D '}),"\n",(0,i.jsx)(s.h2,{id:"options",children:"Options"}),"\n",(0,i.jsx)(s.h3,{id:"vertexcolors",children:(0,i.jsx)(s.code,{children:'"VertexColors"'})}),"\n",(0,i.jsx)(s.p,{children:"Defines sets of colors used for shading vertices"}),"\n",(0,i.jsxs)(s.admonition,{type:"info",children:[(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:'"VertexColors"'})," is a plain list which must have the following form"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mathematica",children:'"VertexColors" ->{{r1,g1,b1}, {r2,g2,b2}, ...}\n'})})]}),"\n",(0,i.jsx)(s.h2,{id:"dynamic-updates",children:"Dynamic updates"}),"\n",(0,i.jsxs)(s.p,{children:["It does support dynamic updates for vertices data and colors. Use ",(0,i.jsx)(s.a,{href:"/frontend/Reference/Interpreter/Offload",children:"Offload"})," wrapper."]}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsx)(s.p,{children:"Number of points in a mesh cannot be changed"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mathematica",metastring:'title="cell 1"',children:'(* generate mesh *)\nproc = HardcorePointProcess[50, 0.5, 2];\nreg = Rectangle[{-10, -10}, {10, 10}];\nsamples = RandomPointConfiguration[proc, reg]["Points"];\n\n(* triangulate *)\nNeeds["ComputationalGeometry`"];\ntriangles2[points_] := Module[{tr, triples},\n  tr = DelaunayTriangulation[points];\n  triples = Flatten[Function[{v, list},\n      Switch[Length[list],\n        (* account for nodes with connectivity 2 or less *)\n        1, {},\n        2, {Flatten[{v, list}]}, \n        _, {v, ##} & @@@ Partition[list, 2, 1, {1, 1}]\n      ]\n    ] @@@ tr, 1];\n  Cases[GatherBy[triples, Sort], a_ /; Length[a] == 3 :> a[[1]]]]\n\ntriangles = triangles2[samples];\n\n(* sample function *)\nf[p_, {x_,y_,z_}] := z Exp[-(*FB[*)(((*SpB[*)Power[Norm[p - {x,y}](*|*),(*|*)2](*]SpB*))(*,*)/(*,*)(2.))(*]FB*)]\n\n(* initial data *)\nprobe = {#[[1]], #[[2]], f[#, {10, 0, 0}]} &/@ samples // Chop;\ncolors = With[{mm = MinMax[probe[[All,3]]]},\n      (Blend[{{mm[[1]], Blue}, {mm[[2]], Red}}, #[[3]]] )&/@ probe /. {RGBColor -> List} // Chop];\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mathematica",metastring:'title="cell 2"',children:'Graphics3D[{\n  GraphicsComplex[probe // Offload, {Polygon[triangles]}, "VertexColors"->Offload[colors]],\n\n  EventHandler[Sphere[{0,0,0}, 0.1], {"transform"->Function[data, With[{pos = data["position"]},\n    probe = {#[[1]], #[[2]], f[#, pos]} &/@ samples // Chop;\n    colors = With[{mm = MinMax[probe[[All,3]]]},\n      (Blend[{{mm[[1]], Blue}, {mm[[2]], Red}}, #[[3]]] )&/@ probe /. {RGBColor -> List} // Chop];\n  ]]}]\n}]\n'})}),"\n",(0,i.jsx)(s.p,{children:"The result is interactive 3D plot"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:n(43408).c+"",width:"810",height:"574"})}),"\n",(0,i.jsx)(s.p,{children:"Or the variation of it, if we add a point light source"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mathematica",children:'light = {0,0,0};\nGraphics3D[{\n  GraphicsComplex[probe // Offload, {Polygon[triangles]}],\n  PointLight[Red, light // Offload],\n\n  EventHandler[Sphere[{0,0,0}, 0.1], {"transform"->Function[data, With[{pos = data["position"]},\n    probe = {#[[1]], #[[2]], f[#, pos]} &/@ samples // Chop;\n    light = pos;\n  ]]}]\n}]\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:n(67535).c+"",width:"810",height:"574"})})]})}function d(e={}){const{wrapper:s}={...(0,r.M)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(N,{...e})}):N(e)}},67535:(e,s,n)=>{n.d(s,{c:()=>i});const i=n.p+"assets/images/Gauss3DLight-ezgif.com-optipng-55aa0786b7a01b061d0bc25b91692b8a.png"},43408:(e,s,n)=>{n.d(s,{c:()=>i});const i=n.p+"assets/images/Gaussian3D-ezgif.com-optipng-705015b2beafdce52658122815e639f2.png"},4552:(e,s,n)=>{n.d(s,{I:()=>a,M:()=>M});var i=n(11504);const r={},t=i.createContext(r);function M(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:M(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);