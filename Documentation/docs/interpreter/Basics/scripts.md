---
sidebar_position: 2
---

# Symbols and expressions

:::note
It is assumed, you have [wljs-graphics-d3](https://github.com/JerryI/wljs-graphics-d3) (see Libraries @ [syntax](syntax.md#Libraries)) library included in your page. Most examples depend on it.
:::
## Limitations
- no pattern matching possible
- no symbolic computations
- `UpValue`, `DownValue` are not supported
- no WL function definition is possible (for now)
- most WL Kernel functions are not implemented

Despite the fact of those limitations, WLJS intepreter together with graphics extensions can interpret results produced by Wolfram Engine / Mathematica and also is feasible for some simple standalone calculations. 

The biggest advantage compared to the original Wolfram Kernel is a native integration with Javascript ecosystem, since it is capable to read, write and execute Javascript functions and objects with no overhead complexity under the hood.

## Implicit data-binding
By the default all defined symbols can be considered as `Dynamic` in terms of Wolfram Mathematica. For example, when you define a variable

```mathematica
a = 1;
```

it extends the [default context](../Advanced/architecture.md) `core` with a corresponding symbol with a `virtual` attribute. It means, if this one enters the any other expressions that support updates

```mathematica
(* to be able to manipulate DOM elements, we need container *)
FrontEndVirtual[{
	(* attach a dom element to draw by ID *)
    AttachDOM["canvas"],
    (* our graphics *)
    Graphics[{PointSize[0.1], RGBColor[{1.,1.,0}],  Point[{a,0}]}]
}]; 
```

It creates a special object called [Virtual Container](../Advanced/containers.md), that has its identity, local memory and can be connected to a chain to other functions. More about it you can read in the [Advanced guide](../Advanced/containers.md). As well as all functions, which use DOM elements to draw need to be executed inside `FrontEndVirtual`. 

Then if one change the variable later

```mathematica
a = -1;
```

it will trigger the cascade of update in all expressions, where it is used. 

import Sandbox from '@site/src/components/sandbox';

<Sandbox code="('wls!'%241%3BK%7B*_be%20able_animate%20we%20need%20a%20container%23Kf%5B(K%5Ct%7B*%20attach%20a%20dom%20element_draw%236QAttachDOM%5B%5C'canvas%5C'Z6Q%7B*%20our%20gY%236QGY%5B(PointSize%5B0.1Z%20RGBColor%5B(1.%2C1.%2C0)ZQPoint%5B(a%2C0)%5D)%2C%20ImageSize-%3E(500%2C100)%5DK)%5D%3B%20KKWhile%5BTrue%2C8-1%3B81%3BK%5D%3BK'~js!''~includes!%5B'https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FJerryI%2Fwljs-gY-d3%40latest%2Fdist%2Fkernel.js'%5D~compiled!%5B'Hold'XSet'~a71NfU'4AttachDOM'~%22canvas%22'NGYU'4PointSize70.1NRGBColorU71%2C1%2C094PointU'~a709NRule'~ImageSizeU7500%2C10099NWhile7trueXq-1Nq1Znull9%2Cnull9)4%2C%5B'6KQ7'%2C86Pause%5B2%5D%3B6%249%5D%5DK%5CnN%5D4Q%20%20U'4ListX4CompoundExpression'4YraphicsZ%5D%2C_%20to%20fFrontEndVirtualqPause72NSet'~a7%23%20*%7D%24a%20%3D%20%01%24%23qf_ZYXUQNK98764_">Ball movement</Sandbox>

## Containers and DOM structure

Manipulation with DOM is better to do using pure JS functions, however if one needs only to attach a specific graphical element generated by Wolfram Language a procedure `AttachDOM["element-id"]` is provided.

Since `Graphics` or `Graphics3D` has its own local scope to store event handlers, which are necessary to manipulate with plots, you need to execute them inside so-called container (virtual container)

```mathematica
FrontEndVirtual[{
	...
}]
```

For each call of `FrontEndVirtual` a local memory and id is created, therefore `Graphics` can use it to store its data and have an access to DOM elements attached by `AttachDOM`. 

For example one can create an HTML structure 

```html
<div id="left"  style="display:inline-block"></div>
<div id="right" style="display:inline-block"></div>
```

and attach different graphics elements to is 

```mathematica
a = 1;

FrontEndVirtual[{
	(* attach a dom element to draw *)
    AttachDOM["left"],
    (* our graphics *)
    Graphics[{PointSize[0.1], RGBColor[{1.,1.,0}],  Point[{a,0}]}, ImageSize->{200,100}]
}]; 

FrontEndVirtual[{
	(* attach a dom element to draw *)
    AttachDOM["right"],  
    (* our graphics *)
    Graphics[{PointSize[0.1], RGBColor[{1.,0.,1.}],  Point[{-a,0}]}, ImageSize->{200,100}]
}]; 
```

Both plots will be updated independently

<Sandbox code="('wls!'a61%3B9b%3D-1%3B%209%7B*%20to%20be%20able%20to%20animate%20we%20need%20a%20container%20*%7D9%267%60left%5C'q58%2B1.%2C0%7FaQ%267%60right%5C'q%2558%2B0.%2C1.%7FbQWhile%5BTrue%2CXa6-1%3BXb61%3B5a61%3BX5a61%3BXb6-1%3B9%5D%3B9'~js!'const%20el1Y1.id6%5C'left%5C'%3B9el1_const%20el2Y2.id6%5C'right%5C'%3B9el2_%241%7D%3B9%242%7D%3B9'~includes!%5B'https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FJerryI%2Fwljs-g%7C-d3%40latest%2Fdist%2Fkernel.js'%5D~compiled!%5B'Hold'%3CSet'~aKb'%2C-1%5D4%23lefZolorU%2C1%2C1%2C0%5E4PointU~aN%23righZolorU%2C1%2C0%2C1%5E4PointU~bNWhile'%2Ctrue%3CPauseKa'%2C-%3FbKa'%2C%3Fa'%2C%3Fb'%2C-1qnull%5Dqnull%5E)4%2C%5B'59%256%20%3D%207ual%5B(9%5Ct%7B*%20attach%20a%20dom%20element%20to%20draw%20*%7D5%258%25%7B*%20our%20g%7C%20*%7D5%25G%7C%5B(PointSize%5B0.19%5CnK'%2C1%5D4Set'~N'%2C0%5E%5D4Rule'~ImageSizeU%2C200%2C100%5E%5E%5D4Q%2C0)%5D)%2C%20ImageSize-%3E(200%2C100)%5D9)%5D%3B%2099U'4List'X5Pause%5B1%5D%3B5Y6document.createElement%7B%22div%22%7D%3B9elZt%22'%5D4G%7CU4PointSize'%2C0.1%5D4RGBC_.style.display6%5C'inline-block%5C'%3B99q%5D%2C%23%26ualU4AttachDOM'~%22%24document.body.append%7Bel%25%20%20%26FrontEndVirt%2Bq%20RGBColor%5B(1.%2C%3C4CompoundExpression'4%3F1%5D4PauseK%5E%5D%5D%60AttachDOM%5B%5C'%7Craphics%7F)q%25Point%5B(%01%7F%7C%60%5E%3F%3C%2B%26%25%24%23q_ZYXUQNK987654_">Two divs</Sandbox>